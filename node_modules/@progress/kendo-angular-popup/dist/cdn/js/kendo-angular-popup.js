!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("tslib"),require("@angular/core"),require("rxjs/add/observable/fromPromise"),require("rxjs/Observable"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/operator/auditTime"),require("rxjs/add/observable/merge"),require("@angular/common")):"function"==typeof define&&define.amd?define(["tslib","@angular/core","rxjs/add/observable/fromPromise","rxjs/Observable","rxjs/add/observable/fromEvent","rxjs/add/operator/auditTime","rxjs/add/observable/merge","@angular/common"],e):"object"==typeof exports?exports.KendoAngularPopup=e(require("tslib"),require("@angular/core"),require("rxjs/add/observable/fromPromise"),require("rxjs/Observable"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/operator/auditTime"),require("rxjs/add/observable/merge"),require("@angular/common")):t.KendoAngularPopup=e(t.tslib,t["@angular/core"],t["rxjs/add/observable/fromPromise"],t["rxjs/Observable"],t["rxjs/add/observable/fromEvent"],t["rxjs/add/operator/auditTime"],t["rxjs/add/observable/merge"],t["@angular/common"])}(this,function(t,e,n,o,i,r,s,a){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.PopupService=o.PopupService,e.POPUP_CONTAINER=o.POPUP_CONTAINER;var i=n(4);e.PopupComponent=i.PopupComponent;var r=n(17);e.PopupModule=r.PopupModule},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3),r=n(4);e.POPUP_CONTAINER=new i.InjectionToken("Popup Container");var s=function(){function t(t,e,n,o){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=n,this.container=o}return Object.defineProperty(t.prototype,"rootViewContainer",{get:function(){var t=this.applicationRef.components||[];if(t[0])return t[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootViewContainerNode",{get:function(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)},enumerable:!0,configurable:!0}),t.prototype.open=function(t){void 0===t&&(t={});var e=this.contentFrom(t.content),n=e.component,o=e.nodes,i=this.appendPopup(o,t.appendTo),r=i.instance;return this.projectComponentInputs(i,t),i.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges(),{close:function(){n?n.destroy():(i.instance.content=null,i.changeDetectorRef.detectChanges()),i.destroy()},content:n,popup:i,popupAnchorViewportLeave:r.anchorViewportLeave,popupClose:r.close,popupElement:this.getComponentRootNode(i),popupOpen:r.open}},t.prototype.appendPopup=function(t,e){var n=this.createComponent(r.PopupComponent,t,e);return e||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n},t.prototype.getComponentRootNode=function(t){return t.hostView.rootNodes[0]},t.prototype.getComponentFactory=function(t){return this.componentFactoryResolver.resolveComponentFactory(t)},t.prototype.createComponent=function(t,e,n){var o=this.getComponentFactory(t);if(n)return n.createComponent(o,void 0,this.injector,e);var i=o.create(this.injector,e);return this.applicationRef.attachView(i.hostView),i},t.prototype.projectComponentInputs=function(t,e){return Object.getOwnPropertyNames(e).filter(function(t){return"content"!==t||e.content instanceof i.TemplateRef}).map(function(n){t.instance[n]=e[n]}),t},t.prototype.contentFrom=function(t){if(!t||t instanceof i.TemplateRef)return{component:null,nodes:[[]]};var e=this.createComponent(t),n=e?[e.location.nativeElement]:[];return{component:e,nodes:[n]}},t}();s=o.__decorate([i.Injectable(),o.__param(3,i.Inject(e.POPUP_CONTAINER)),o.__param(3,i.Optional()),o.__metadata("design:paramtypes",[i.ApplicationRef,i.ComponentFactoryResolver,i.Injector,i.ElementRef])],s),e.PopupService=s},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3);n(5);var r=n(6),s=n(7),a=n(8),l=n(11),c=n(12),p=n(15),u=n(10),f={left:-1e4,top:0},d="k-animation-container",h="k-animation-container-fixed",m=function(){function t(t,e,n,o,r,s,a,l,c){this.container=t,this._alignService=e,this._domService=n,this._cdr=o,this._positionService=r,this._resizeService=s,this._scrollableService=a,this._renderer=l,this._zone=c,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=f,this.anchorViewportLeave=new i.EventEmitter,this.close=new i.EventEmitter,this.open=new i.EventEmitter,this.direction="down",this.resolvedPromise=Promise.resolve(null),this._renderer.addClass(t.nativeElement,d),this.updateFixedClass()}return t.prototype.ngOnInit=function(){this.repositionCallback=this.reposition.bind(this),this._resizeService.subscribe(this.repositionCallback),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=f,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()},t.prototype.ngOnChanges=function(t){t.copyAnchorStyles&&this.copyFontStyles(),t.positionMode&&this.updateFixedClass()},t.prototype.ngAfterViewInit=function(){this.reposition()},t.prototype.ngAfterViewChecked=function(){var t=this;this._zone.runOutsideAngular(function(){t.repositionSubscription&&t.repositionSubscription.unsubscribe(),t.repositionSubscription=r.Observable.fromPromise(t.resolvedPromise).subscribe(t.repositionCallback)})},t.prototype.ngOnDestroy=function(){this.anchorViewportLeave.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.repositionSubscription&&this.repositionSubscription.unsubscribe()},t.prototype.triggerOpen=function(t){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()},Object.defineProperty(t.prototype,"currentOffset",{get:function(){return this._currentOffset},set:function(t){this._currentOffset&&!u.isDifferentOffset(this._currentOffset,t)||(this.setContainerStyle("left",t.left+"px"),this.setContainerStyle("top",t.top+"px"),this._currentOffset=t)},enumerable:!0,configurable:!0}),t.prototype.setZIndex=function(){this.anchor&&this.setContainerStyle("z-index",String(this._domService.zIndex(this.anchor,this.container)))},t.prototype.reposition=function(){if(u.isDocumentAvailable()){var t=this.position(),e=t.flipped,n=t.offset,o=this.getDirection(e);this.currentOffset=n,this.direction!==o&&(this.direction=o,this._cdr.detectChanges())}},t.prototype.position=function(){var t=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:t,element:this.container,elementAlign:this.popupAlign,positionMode:this.positionMode})},t.prototype.getDirection=function(t){return this.animate?t?"up":"down":"none"},t.prototype.onScroll=function(t){var e=this,n=this.anchorViewportLeave.observers.length;t||!n?this.reposition():n&&this._zone.run(function(){e.anchorViewportLeave.emit()})},t.prototype.copyFontStyles=function(){var t=this;this.anchor&&this.copyAnchorStyles&&this._domService.getFontStyles(this.anchor).forEach(function(e){return t.setContainerStyle(e.key,e.value)})},t.prototype.updateFixedClass=function(){var t="fixed"===this.positionMode?"addClass":"removeClass";this._renderer[t](this.container.nativeElement,h)},t.prototype.setContainerStyle=function(t,e){this._renderer.setStyle(this.container.nativeElement,t,e)},t}();o.__decorate([i.Input(),o.__metadata("design:type",Boolean)],m.prototype,"animate",void 0),o.__decorate([i.Input(),o.__metadata("design:type",i.ElementRef)],m.prototype,"anchor",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],m.prototype,"anchorAlign",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],m.prototype,"collision",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],m.prototype,"popupAlign",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Boolean)],m.prototype,"copyAnchorStyles",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],m.prototype,"popupClass",void 0),o.__decorate([i.Input(),o.__metadata("design:type",String)],m.prototype,"positionMode",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],m.prototype,"offset",void 0),o.__decorate([i.Output(),o.__metadata("design:type",i.EventEmitter)],m.prototype,"anchorViewportLeave",void 0),o.__decorate([i.Output(),o.__metadata("design:type",i.EventEmitter)],m.prototype,"close",void 0),o.__decorate([i.Output(),o.__metadata("design:type",i.EventEmitter)],m.prototype,"open",void 0),m=o.__decorate([i.Component({animations:[i.trigger("toggle",[i.transition("void => down, up => down",[i.style({transform:"translateY(-100%)"}),i.animate("0.1s ease-in",i.style({transform:"translateY(0)"}))]),i.transition("down => void",[i.style({transform:"translateY(0)"}),i.animate("0.1s ease-in",i.style({transform:"translateY(-100%)"}))]),i.transition("void => up, down => up",[i.style({transform:"translateY(100%)"}),i.animate("0.1s ease-in",i.style({transform:"translateY(0)"}))]),i.transition("up => void",[i.style({transform:"translateY(0)"}),i.animate("0.1s ease-in",i.style({transform:"translateY(100%)"}))])])],exportAs:"kendo-popup",providers:[s.AlignService,a.DOMService,l.PositionService,c.ResizeService,p.ScrollableService],selector:"kendo-popup",template:'\n        <div class="k-popup" [ngClass]="popupClass" [@toggle]="direction" (@toggle.done)="triggerOpen($event)">\n            <ng-content></ng-content>\n            <ng-template [ngTemplateOutlet]="content" [ngIf]="content"></ng-template>\n        </div>\n     '}),o.__metadata("design:paramtypes",[i.ElementRef,s.AlignService,a.DOMService,i.ChangeDetectorRef,l.PositionService,c.ResizeService,p.ScrollableService,i.Renderer2,i.NgZone])],m),e.PopupComponent=m},function(t,e){t.exports=n},function(t,e){t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3),r=n(8),s=n(10),a=function(){function t(t){this._dom=t}return t.prototype.alignElement=function(t){var e=t.anchor,n=t.element,o=t.anchorAlign,i=t.elementAlign,r=t.offset,s=t.positionMode,a="fixed"===s||!this._dom.hasOffsetParent(n),l=a?this.absoluteRect(e,n,r):this.relativeRect(e,n,r);return this._dom.align({anchorAlign:o,anchorRect:l,elementAlign:i,elementRect:this._dom.offset(n)})},t.prototype.absoluteRect=function(t,e,n){return this._dom.removeScroll(this._dom.addScroll(s.removeStackingOffset(s.eitherRect(this._dom.offset(t),n),this._dom.stackingElementOffset(e)),this._dom.stackingElementScroll(e)),this.elementScrollPosition(t,e))},t.prototype.elementScrollPosition=function(t,e){return t?{x:0,y:0}:this._dom.scrollPosition(e)},t.prototype.relativeRect=function(t,e,n){return s.eitherRect(this._dom.position(t,e),n)},t}();a=o.__decorate([i.Injectable(),o.__metadata("design:paramtypes",[r.DOMService])],a),e.AlignService=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3),r=n(9),s=n(10),a=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],l=function(){function t(){}return t.prototype.addOffset=function(t,e){return{left:t.left+e.left,top:t.top+e.top}},t.prototype.align=function(t){return r.align(t)},t.prototype.boundingOffset=function(t){return r.boundingOffset(this.nativeElement(t))},t.prototype.getFontStyles=function(t){var e=this.getWindow();if(!e||!t)return[];var n=e.getComputedStyle(this.nativeElement(t));return a.map(function(t){return{key:t,value:n[t]}})},t.prototype.getWindow=function(){return s.isWindowAvailable()?window:null},t.prototype.isBodyOffset=function(t){return r.isBodyOffset(this.nativeElement(t))},t.prototype.hasOffsetParent=function(t){return!!t&&!!this.nativeElement(t).offsetParent},t.prototype.offset=function(t){return t?r.offset(this.nativeElement(t)):null},t.prototype.staticOffset=function(t){if(!t)return null;var e=this.nativeElement(t),n=e.style,o=n.left,i=n.top;e.style.left="0px",e.style.top="0px";var s=r.offset(e);return e.style.left=o,e.style.top=i,s},t.prototype.nativeElement=function(t){return t?t.nativeElement||t:null},t.prototype.position=function(t,e){if(!t||!e)return null;var n=this.nativeElement(t),o=r.siblingContainer(n,this.nativeElement(e));return r.positionWithScroll(n,o)},t.prototype.relativeOffset=function(t,e){return r.applyLocationOffset(this.offset(t),e,this.isBodyOffset(t))},t.prototype.addScroll=function(t,e){return r.addScroll(t,e)},t.prototype.removeScroll=function(t,e){return r.removeScroll(t,e)},t.prototype.restrictToView=function(t){return r.restrictToView(t)},t.prototype.scrollPosition=function(t){return r.scrollPosition(this.nativeElement(t))},t.prototype.scrollableParents=function(t){return s.scrollableParents(this.nativeElement(t))},t.prototype.stackingElementOffset=function(t){var e=this.getRelativeContextElement(t);return e?r.offset(e):null},t.prototype.stackingElementScroll=function(t){var e=this.getRelativeContextElement(t);return e?{x:e.scrollLeft,y:e.scrollTop}:{x:0,y:0}},t.prototype.stackingElementViewPort=function(t){var e=this.getRelativeContextElement(t);return e?{height:e.scrollHeight,width:e.scrollWidth}:null},t.prototype.getRelativeContextElement=function(t){if(!t||!s.HAS_RELATIVE_STACKING_CONTEXT)return null;for(var e=this.nativeElement(t).parentElement;e;){if("none"!==window.getComputedStyle(e).transform)return e;e=e.parentElement}return null},t.prototype.useRelativePosition=function(t){return!!this.getRelativeContextElement(t)},t.prototype.windowViewPort=function(t){return r.getWindowViewPort(this.nativeElement(t))},t.prototype.zIndex=function(t,e){return s.zIndex(this.nativeElement(t),this.nativeElement(e))},t.prototype.zoomLevel=function(){return s.isDocumentAvailable()&&s.isWindowAvailable()?parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2)):1},t.prototype.isZoomed=function(){return this.zoomLevel()>1},t}();l=o.__decorate([i.Injectable()],l),e.DOMService=l},function(t,e){"use strict";function n(t,e){return{top:t.top+e.y,left:t.left+e.x,height:t.height,width:t.width}}function o(t,e,n){var o=t.top,i=t.left;return n&&(i=0,o=0),{top:o+e.top,left:i+e.left,height:t.height,width:t.width}}function i(t){var e=u(t),n=g(t);return{x:n.pageXOffset||e.scrollLeft||0,y:n.pageYOffset||e.scrollTop||0}}function r(t){var e=f(t);return e?y(e):{x:0,y:0}}function s(t,e){return{top:t.top-e.y,left:t.left-e.x,height:t.height,width:t.width}}function a(t){var e=g(t);return{height:e.innerHeight,width:e.innerWidth}}Object.defineProperty(e,"__esModule",{value:!0});var l={bottom:"bottom",center:"center",middle:"middle",left:"left",right:"right",top:"top"},c=function(t){var e=t.anchorRect,n=t.anchorAlign,o=t.elementRect,i=t.elementAlign,r=n.horizontal,s=n.vertical,a=i.horizontal,c=i.vertical,p=e.top,u=e.left;return s===l.bottom&&(p+=e.height),s!==l.center&&s!==l.middle||(p+=Math.round(e.height/2)),c===l.bottom&&(p-=o.height),c!==l.center&&c!==l.middle||(p-=Math.round(o.height/2)),r===l.right&&(u+=e.width),r!==l.center&&r!==l.middle||(u+=Math.round(e.width/2)),a===l.right&&(u-=o.width),a!==l.center&&a!==l.middle||(u-=Math.round(o.width/2)),{top:p,left:u}},p=function(t){if(!t.getBoundingClientRect)return{bottom:t.innerHeight,left:0,right:t.innerWidth,top:0};var e=t.getBoundingClientRect(),n=e.bottom,o=e.left,i=e.right,r=e.top;return{bottom:n,left:o,right:i,top:r}},u=function(t){return t.ownerDocument.documentElement},f=function(t){for(var e=t.offsetParent;e&&"static"===e.style.position;)e=e.offsetParent;return e||u(t)},d=function(t){return f(t)===t.ownerDocument.body},h=function(t){var e=t.style,n=e.display,o=e.left,i=e.position;t.style.display="",t.style.left="-10000px",t.style.position="absolute";var r=t.getBoundingClientRect();return t.style.display=n,t.style.left=o,t.style.position=i,r},m=function(t){var e=t.getBoundingClientRect(),n=e.left,o=e.top;return e.height||e.width||(e=h(t)),{top:o,left:n,height:e.height,width:e.width}},v=function(t,e){for(var n=[],o=t.parentNode;o&&(n.push(o),o!==e);)o=o.parentNode;return n},g=function(t){return t.ownerDocument.defaultView},y=function(t){return t===(t.ownerDocument||{}).body?i(t):{x:t.scrollLeft,y:t.scrollTop}},b=function(t,e){var n=g(t),o=n.getComputedStyle(t),i=m(t),r=e||f(t),s=t.ownerDocument,a=r!==s.body&&r!==s.documentElement,l={top:0,left:0};if("fixed"!==o.position&&a){var c=n.getComputedStyle(r);l=m(r),l.top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:i.top-l.top-parseInt(o.marginTop,10),left:i.left-l.left-parseInt(o.marginLeft,10),height:i.height,width:i.width}},_=function(t,e){return t?y(t):r(e)},w=function(t,e){var n=e?f(e):null,o=b(t,n),i=o.top,r=o.left,s=o.height,a=o.width,l=_(n,t),c=l.x,p=l.y;return{top:i+p,left:r+c,height:s,width:a}},O={fit:"fit",flip:"flip"},S=function(t,e,n){var o=0;return t+e>n&&(o=n-(t+e)),t<0&&(o=-t),o},E=function(t){var e=t.offset,n=t.size,o=t.anchorSize,i=t.viewPortSize,r=t.anchorAlignPoint,s=t.elementAlignPoint,a=0,c=s===l.center||s===l.middle,p=r===l.center||r===l.middle;return s!==r&&!c&&!p&&e>-1&&(e+n>i&&(a+=-(o+n)),e+a<0&&(a+=o+n)),a},P=function(t){var e=t.anchorRect,n=t.anchorAlign,o=t.elementRect,i=t.elementAlign,r=t.collisions,s=t.viewPort,a=o.top,l=o.left,c=o.height,p=o.width,u=s.height,f=s.width,d=0,h=0,m=r.horizontal===O.flip,v=r.vertical===O.flip;return r.vertical===O.fit&&(h+=S(a,c,u)),r.horizontal===O.fit&&(d+=S(l,p,f)),v&&(h+=E({offset:a,size:c,anchorSize:e.height,viewPortSize:u,anchorAlignPoint:n.vertical,elementAlignPoint:i.vertical})),m&&(d+=E({offset:l,size:p,anchorSize:e.width,viewPortSize:f,anchorAlignPoint:n.horizontal,elementAlignPoint:i.horizontal})),{flipped:m&&0!==d||v&&0!==h,offset:{left:d,top:h}}},C=function(t){for(var e=[],n=t.parentNode.firstElementChild;n;)n!==t&&e.push(n),n=n.nextElementSibling;return e},x=function(t,e){for(var n,o,i=v(t),r=e;r&&(n=C(r),!(o=i.reduce(function(t,e){return t.concat(n.filter(function(t){return t===e}))},[])[0]));)r=r.parentElement;return o};e.align=c,e.addScroll=n,e.applyLocationOffset=o,e.boundingOffset=p,e.isBodyOffset=d,e.offsetParent=f,e.offset=m,e.parents=v,e.parentScrollPosition=r,e.position=b,e.positionWithScroll=w,e.removeScroll=s,e.restrictToView=P,e.scrollPosition=i,e.siblingContainer=x,e.siblings=C,e.getDocumentElement=u,e.getWindow=g,e.getWindowViewPort=a,e.AlignPoint=l,e.Collision=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(9);e.eitherRect=function(t,e){return t?t:{height:0,left:e.left,top:e.top,width:0}},e.replaceOffset=function(t,e){if(!e)return t;var n={height:t.height,left:e.left,top:e.top,width:t.width};return n},e.removeStackingOffset=function(t,e){if(!e)return t;var n={height:t.height,left:t.left-e.left,top:t.top-e.top,width:t.width};return n},e.isDifferentOffset=function(t,e){var n=t.left,o=t.top,i=e.left,r=e.top;return Math.abs(n-i)>=1||Math.abs(o-r)>=1},e.isDocumentAvailable=function(){return"undefined"!=typeof document&&!!document.body},e.isWindowAvailable=function(){return"undefined"!=typeof window},e.hasBoundingRect=function(t){return!!t.getBoundingClientRect},e.OVERFLOW_REGEXP=/auto|scroll/;var i=function(t){var e=window.getComputedStyle(t);return""+e.overflow+e.overflowX+e.overflowY};e.scrollableParents=function(t){var n=[];if(!e.isDocumentAvailable()||!e.isWindowAvailable())return n;for(var o=t.parentElement;o;)e.OVERFLOW_REGEXP.test(i(o))&&n.push(o),o=o.parentElement;return n.push(window),n},e.FRAME_DURATION=1e3/60,e.hasRelativeStackingContext=function(){if(!e.isDocumentAvailable())return!1;var t=10,n=document.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)",n.innerHTML='<div style="position: fixed; top: '+t+'px;">child</div>',document.body.appendChild(n);var o=n.children[0].getBoundingClientRect().top!==t;return document.body.removeChild(n),o},e.HAS_RELATIVE_STACKING_CONTEXT=e.hasRelativeStackingContext(),e.zIndex=function(t,n){if(!t||!e.isDocumentAvailable()||!e.isWindowAvailable())return null;var i=o.siblingContainer(t,n);if(!i)return null;var r=[t].concat(o.parents(t,i)).reduce(function(t,e){var n=e.style.zIndex||window.getComputedStyle(e).zIndex,o=parseInt(n,10);return o>t?o:t},0);return r?r+1:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3),r=n(8),s=n(10),a=function(){function t(t){this._dom=t}return t.prototype.positionElement=function(t){var e=t.anchor,n=t.currentLocation,o=t.positionMode,i=t.element,r=t.anchorAlign,a=t.elementAlign,l=t.collisions,c=this._dom,p=t.viewPort||c.stackingElementViewPort(i)||c.windowViewPort(i),u=s.eitherRect(c.offset(e),n),f=s.replaceOffset(c.staticOffset(i),n),d=this.elementRect(i,f,o),h=c.restrictToView({anchorAlign:r,anchorRect:u,collisions:l,elementAlign:a,elementRect:d,viewPort:p});return{flipped:h.flipped,offset:c.addOffset(f,h.offset)}},t.prototype.elementRect=function(t,e,n){return"fixed"===n?e:this._dom.removeScroll(e,this._dom.scrollPosition(t))},t}();a=o.__decorate([i.Injectable(),o.__metadata("design:paramtypes",[r.DOMService])],a),e.PositionService=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3),r=n(6);n(13),n(14);var s=n(10),a=n(8),l=function(){function t(t,e){this._dom=t,this._zone=e}return t.prototype.subscribe=function(t){var e=this;s.isDocumentAvailable()&&this._zone.runOutsideAngular(function(){e.subscription=r.Observable.fromEvent(e._dom.getWindow(),"resize").auditTime(s.FRAME_DURATION).subscribe(function(){return t()})})},t.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.isUnsubscribed=function(){return this.subscription&&this.subscription.closed},t}();l=o.__decorate([i.Injectable(),o.__metadata("design:paramtypes",[a.DOMService,i.NgZone])],l),e.ResizeService=l},function(t,e){t.exports=i},function(t,e){t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3),r=n(6);n(13),n(16),n(14);var s=n(8),a=n(10);e.THRESHOLD_DIFF=1;var l=function(){function t(t,e){this._dom=t,this._zone=e}return t.prototype.forElement=function(t){return this.unsubscribe(),this.element=t,this},t.prototype.subscribe=function(t){var e=this;if(t&&a.isDocumentAvailable()&&this.element){var n=this._dom.nativeElement(this.element),o=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(function(){var i=o.map(function(t){return r.Observable.fromEvent(t,"scroll").auditTime(a.FRAME_DURATION)}),s=function(o){t(e.isVisible(n,o.target))};e.subscription=r.Observable.merge.apply(r.Observable,i).subscribe(s)})}},t.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.isVisible=function(t,n){var o=this._dom.boundingOffset(t),i=this._dom.boundingOffset(n);return!(i.top-o.bottom>e.THRESHOLD_DIFF)&&(!(i.bottom-o.bottom<-e.THRESHOLD_DIFF)&&(!(i.right-o.right<-e.THRESHOLD_DIFF)&&!(i.left-o.left>e.THRESHOLD_DIFF)))},t}();l=o.__decorate([i.Injectable(),o.__metadata("design:paramtypes",[s.DOMService,i.NgZone])],l),e.ScrollableService=l},function(t,e){t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3),r=n(18),s=n(4),a=n(1),l=[s.PopupComponent],c=function(){function t(){}return t}();c=o.__decorate([i.NgModule({declarations:[l],entryComponents:[l],exports:[l],imports:[r.CommonModule],providers:[a.PopupService]})],c),e.PopupModule=c},function(t,e){t.exports=a}])});